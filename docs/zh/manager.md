# 网页配置管理器指南

start-claude 网页配置管理器为管理 Claude 配置、系统设置和监控提供现代、直观的界面。通过 `start-claude manager` 或 `start-claude manage` 访问。

## 功能概览

- 🎨 **现代设计**: 带暗色模式支持的清洁、渐变式 UI
- 🔍 **实时搜索**: 按名称、URL 或模型即时过滤配置
- 📱 **拖拽操作**: 拖拽重排配置，为负载均衡优先级提供视觉反馈
- ⚙️ **系统设置**: 集中化的均衡模式和 S3 同步首选项
- ✅ **智能验证**: 带详细错误消息的实时验证
- 🌓 **暗色模式**: 自动系统主题检测和手动切换
- 🔄 **实时更新**: 实时状态监控和健康检查
- 📊 **统计信息**: 配置使用情况和系统状态概览

## 启动管理器

```bash
# 启动网页界面
start-claude manager

# 自定义端口
start-claude manager --port 3001

# 替代命令
start-claude manage
```

界面打开在 `http://localhost:2334`（或您指定的端口）。

## 配置管理

### 添加配置

1. **点击"添加配置"** 按钮
2. **填写详细信息**：
   - **名称**: 唯一标识符
   - **配置文件类型**: `default`（自定义 API）或 `official`（官方 Claude）
   - **基础 URL**: API 端点（用于默认配置文件）
   - **API 密钥**: 身份验证密钥
   - **模型**: 要使用的 Claude 模型
   - **高级选项**: 额外设置

3. **高级选项**：
   - **启用转换器**: 为非 Anthropic API 启用格式转换
   - **权限模式**: 设置 Claude Code 权限行为
   - **顺序**: 负载均衡的优先级（越低 = 优先级越高）
   - **代理设置**: HTTP/HTTPS 代理配置

### 编辑配置

1. **点击配置卡** 进入编辑模式
2. **修改任何字段** - 更改将实时验证
3. **保存更改** 或取消以放弃修改

**实时验证**：
- 必填字段将突出显示
- 无效的 URL 或格式将显示错误
- 重复名称将被阻止
- API 密钥格式验证

### 删除配置

1. **点击配置卡上的删除按钮**（垃圾桶图标）
2. **确认删除** 在出现的对话框中
3. **配置将被永久删除**

### 拖拽重排

1. **点击并拖拽配置卡** 重新排序
2. **视觉指示器** 显示放置位置
3. **自动更新顺序字段** 以反映新位置
4. **拖拽对负载均衡有用** 设置端点优先级

### 设置默认配置

1. **点击配置卡上的星形图标** 设为默认
2. **黄色星形** 表示默认配置
3. **只能有一个默认配置** 设置新默认会取消之前的

## 实时搜索

使用顶部的搜索栏快速找到配置：

- **按名称搜索**: 输入配置名称
- **按 URL 搜索**: 搜索基础 URL
- **按模型搜索**: 根据 Claude 模型过滤
- **即时结果**: 边输入边看到结果
- **突出显示匹配**: 搜索词在结果中突出显示

## 系统设置

### 访问系统设置

1. **点击"系统设置"** 按钮或菜单项
2. **系统设置模态框** 将会打开
3. **修改设置** 并保存更改

### 均衡模式设置

**默认启用均衡模式**：
- 为所有命令自动启用负载均衡
- 省去每次使用 `--balance` 标志的需要

**负载均衡器策略**：
- **回退**: 基于优先级的故障转移（默认）
- **轮询**: 跨所有端点的轮询分发
- **速度优先**: 基于性能的路由到最快端点

**健康检查设置**：
- **启用/禁用** 自动健康检查
- **间隔**: 检查频率（10秒 - 5分钟）

**失败端点设置**：
- **封禁时长**: 失败端点的封禁时间（1分钟 - 1小时）

**速度优先配置**：
- **响应时间窗口**: 平均计算的时间段
- **最小样本数**: 速度路由前需要的样本数

### S3 同步设置

**自动上传**：
- 配置更改时自动上传到 S3
- 后台静默操作

**自动下载**：
- 管理器启动时从 S3 下载
- 检测远程更新

**冲突解决**：
- **本地优先**: 总是使用本地配置
- **远程优先**: 总是使用远程配置
- **提示**: 询问用户如何解决冲突

## 暗色模式

**自动检测**：
- 自动遵循您的系统主题设置
- 在浅色和深色模式间无缝切换

**手动切换**：
- 点击右上角的主题切换按钮
- 覆盖系统设置以使用首选主题
- 设置在浏览器会话间保留

**暗色模式功能**：
- 对眼睛友好的深色配色方案
- 减少在低光环境下的眼睛疲劳
- 保持所有功能和可读性

## 状态和监控

### 配置状态指示器

每个配置卡显示状态信息：

- **🟢 绿色**: 配置健康且可用
- **🟡 黄色**: 配置有警告或需要注意
- **🔴 红色**: 配置有错误或不可用
- **⚪ 灰色**: 配置已禁用

### 系统状态

**连接状态**：
- 显示与 start-claude 后端的连接状态
- 连接丢失或错误的指示器

**健康检查信息**：
- 实时健康检查结果（启用时）
- 端点响应时间和状态
- 失败计数和恢复信息

### 统计概览

**配置统计**：
- 总配置数
- 活跃/非活跃配置计数
- 默认配置标识

**负载均衡器统计**：
- 健康/不健康端点计数
- 当前策略和设置
- 最近的故障转移事件

## 响应式设计

**桌面体验**：
- 针对大屏幕优化的全功能界面
- 多列布局以实现高效浏览
- 完整的拖拽和交互功能

**移动友好**：
- 响应式设计适配较小屏幕
- 触摸友好的控件和交互
- 优化的移动导航

**平板电脑支持**：
- 在平板尺寸屏幕上平衡的布局
- 支持触摸和鼠标交互
- 适应横向和纵向模式

## 键盘快捷键

- **Ctrl+F** / **Cmd+F**: 聚焦搜索栏
- **Escape**: 关闭模态框或取消编辑
- **Enter**: 在表单中保存更改
- **Tab**: 在表单字段间导航

## 故障排除

### 常见问题

**管理器无法启动**：
- 检查端口 2334 是否被其他应用使用
- 尝试使用 `--port` 选项指定不同端口
- 验证 start-claude 安装和权限

**配置未保存**：
- 确保所有必填字段都已填写
- 检查验证错误消息
- 验证 API 密钥和 URL 格式

**搜索不工作**：
- 刷新页面重新加载配置
- 清除搜索栏并重试
- 检查浏览器控制台的错误

**主题问题**：
- 尝试手动切换主题按钮
- 清除浏览器缓存和 localStorage
- 检查系统主题设置

### 性能优化

**大型配置列表**：
- 使用搜索来过滤和查找特定配置
- 考虑删除未使用的配置
- 禁用不需要的配置而不是删除

**慢速健康检查**：
- 增加健康检查间隔
- 禁用有问题端点的健康检查
- 检查网络连接到配置的端点

## 安全注意事项

- **API 密钥可见性**: 在网页界面中 API 密钥是可见的
- **本地访问**: 管理器运行在 localhost，默认无法远程访问
- **配置存储**: 配置存储在您本地的文件系统中
- **HTTPS**: 在生产环境中考虑使用反向代理设置 HTTPS

网页配置管理器提供了管理 start-claude 配置的最用户友好的方式，具有现代功能和直观设计。